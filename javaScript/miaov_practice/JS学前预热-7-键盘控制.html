<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>键盘控制</title>
	<style>
		.obj{
			width: 100px;
			height: 100px;
			background: darkorange;
			position: absolute;
		}
	</style>
	<script>
		window.onload=function(){
			var id = document.getElementById("id");
			id.children
			var oDiv = document.getElementsByClassName('obj')[0];
			var time = null;
			var num=0;
			var bstop = true;
			var pl=1,pr=1,pt=1,pb=1;
			document.onkeydown=function(e){
				bstop = true;
				if(event.keyCode=='68'){
					pl=1;
					pr=pt=pb=0;
					if(bstop){
						time = setInterval(function(){
							if(bstop){
								oDiv.style.left = oDiv.offsetLeft+pl+'px';
							}
						},10);
					}
				}else if(event.keyCode=='65'){
					pr=1;
					pl=pt=pb=0;
					if(bstop){
						time = setInterval(function(){
							if(bstop){
								oDiv.style.left = oDiv.offsetLeft-pr+'px';
							}
						},10);
					}1
				}else if(event.keyCode=='87'){
					pt=1;
					pl=pr=pb=0;
					time = setInterval(function(){
						if(bstop){
							oDiv.style.top = oDiv.offsetTop-pt+'px';
						}
					},10);		
				}else if(event.keyCode=='83'){
					pb=1;
					pl=pr=pt=0;
					time = setInterval(function(){
						if(bstop){
							oDiv.style.top = oDiv.offsetTop+pb+'px';
						}
					},10);		
				}
				// 
				
			}
			var num =0;
			document.onkeyup =function(e){
				num++;
				// alert(num);
				clearInterval(time);
				time = null;
				bstop =false;
			}
		}
	</script>
</head>
<body>
	<div class="obj"></div>
</body>
</html>